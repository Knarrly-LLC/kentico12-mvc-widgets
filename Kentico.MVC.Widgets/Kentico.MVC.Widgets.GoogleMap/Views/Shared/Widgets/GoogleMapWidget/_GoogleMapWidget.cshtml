@model Kentico.MVC.Widgets.GoogleMap.GoogleMapWidgetViewModel
@if (Model.ApiKey == null)
{
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDH4n8sljtRlyYthCYP8PwDAimzFk1ZW6w&callback=initialize"
            async defer></script>
}
else
{
    <script src="https://maps.googleapis.com/maps/api/js?key=@Model.ApiKey&callback=initialize"
            async defer></script>
}
<div class="map-widget" id="map" style="width: 100%; height: 400px;">
</div>
<script type="text/javascript">
    function initialize() {
        var mapOptions = {
            center: new google.maps.LatLng(@Model.Latitude, @Model.Longitude),
            zoom: 4,
            mapTypeId: 'roadmap',
        };
       var map = new google.maps.Map(document.getElementById('map'), mapOptions);
        var bounds = new google.maps.LatLngBounds();
        var latlng = new google.maps.LatLng(@Model.Latitude, @Model.Longitude);
        var marker = new google.maps.Marker({
            map: map,
            position: latlng,
            title: 'Google Map'
        });
        bounds.extend(latlng);
    }
</script>